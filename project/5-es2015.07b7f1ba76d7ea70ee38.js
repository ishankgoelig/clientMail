(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"5gel":function(t,e,i){"use strict";i.r(e),i.d(e,"InboxModule",(function(){return F}));var n=i("ofXK"),o=i("3Pt+"),c=i("tk/3"),s=i("tyNb"),r=i("fXoL"),l=i("qXBG");let a=(()=>{class t{constructor(t){this.http=t,this.rootUrl="https://api.angular-email.com"}getEmails(){return this.http.get(`${this.rootUrl}/emails`)}getEmail(t){return this.http.get(`${this.rootUrl}/emails/${t}`)}sendEmail(t){return this.http.post(`${this.rootUrl}/emails`,t)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(c.b))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const b=[[["","modalTitle",""]],"*",[["","modalFooter",""]]],m=["[modalTitle]","*","[modalFooter]"];let u=(()=>{class t{constructor(t){this.el=t,this.dismiss=new r.n}ngOnInit(){document.body.appendChild(this.el.nativeElement)}ngOnDestroy(){this.el.nativeElement.remove()}onDismissClick(){this.dismiss.emit()}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.l))},t.\u0275cmp=r.Db({type:t,selectors:[["app-modal"]],outputs:{dismiss:"dismiss"},ngContentSelectors:m,decls:12,vars:0,consts:[[1,"ui","dimmer","visible","active",3,"click"],[1,"ui","modal","visible","active",3,"click"],[1,"close","icon",3,"click"],[1,"header"],[1,"content"],[1,"actions","actions-default"],[1,"ui","button","primary",3,"click"],[1,"actions"]],template:function(t,e){1&t&&(r.cc(b),r.Ob(0,"div",0),r.Wb("click",(function(){return e.onDismissClick()})),r.Ob(1,"div",1),r.Wb("click",(function(t){return t.stopPropagation()})),r.Ob(2,"i",2),r.Wb("click",(function(){return e.onDismissClick()})),r.Nb(),r.Ob(3,"div",3),r.bc(4),r.Nb(),r.Ob(5,"div",4),r.bc(6,1),r.Nb(),r.Ob(7,"div",5),r.Ob(8,"button",6),r.Wb("click",(function(){return e.onDismissClick()})),r.lc(9,"Ok"),r.Nb(),r.Nb(),r.Ob(10,"div",7),r.bc(11,2),r.Nb(),r.Nb(),r.Nb())},styles:[".actions-default[_ngcontent-%COMP%], .actions[_ngcontent-%COMP%]:empty{display:none}.actions[_ngcontent-%COMP%]:empty + .actions-default[_ngcontent-%COMP%]{display:block}"]}),t})();var d=i("9odQ");let p=(()=>{class t{constructor(){this.emailSubmit=new r.n}ngOnInit(){const{subject:t,from:e,to:i,text:n}=this.email;this.emailForm=new o.d({to:new o.b(i,[o.i.required,o.i.email]),from:new o.b({value:e,disabled:!0}),subject:new o.b(t,[o.i.required]),text:new o.b(n,[o.i.required])})}onSubmit(){this.emailForm.invalid||this.emailSubmit.emit(this.emailForm.value)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Db({type:t,selectors:[["app-email-form"]],inputs:{email:"email"},outputs:{emailSubmit:"emailSubmit"},decls:7,vars:5,consts:[[1,"ui","form",3,"formGroup","ngSubmit"],["inputType","text","label","From",3,"control"],["inputType","email","label","To",3,"control"],["inputType","text","label","Subject",3,"control"],["controlType","textarea","label","Content",3,"control"],[1,"ui","button","primary"]],template:function(t,e){1&t&&(r.Ob(0,"form",0),r.Wb("ngSubmit",(function(){return e.onSubmit()})),r.Kb(1,"app-input",1),r.Kb(2,"app-input",2),r.Kb(3,"app-input",3),r.Kb(4,"app-input",4),r.Ob(5,"button",5),r.lc(6,"Send"),r.Nb(),r.Nb()),2&t&&(r.dc("formGroup",e.emailForm),r.zb(1),r.dc("control",e.emailForm.get("from")),r.zb(1),r.dc("control",e.emailForm.get("to")),r.zb(1),r.dc("control",e.emailForm.get("subject")),r.zb(1),r.dc("control",e.emailForm.get("text")))},directives:[o.j,o.g,o.e,d.a],styles:[""]}),t})();function f(t,e){if(1&t){const t=r.Pb();r.Ob(0,"app-modal",2),r.Wb("dismiss",(function(){return r.gc(t),r.Yb().showModal=!1})),r.Ob(1,"div",3),r.lc(2,"Compose"),r.Nb(),r.Ob(3,"app-email-form",4),r.Wb("emailSubmit",(function(e){return r.gc(t),r.Yb().onSubmit(e)})),r.Nb(),r.Nb()}if(2&t){const t=r.Yb();r.zb(3),r.dc("email",t.email)}}let h=(()=>{class t{constructor(t,e){this.authService=t,this.emailService=e,this.showModal=!1,this.email={id:"",subject:"",from:`${t.username}@angular-email.com`,to:"",text:"",html:""}}ngOnInit(){}onSubmit(t){this.emailService.sendEmail(t).subscribe(()=>{this.showModal=!1})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(l.a),r.Jb(a))},t.\u0275cmp=r.Db({type:t,selectors:[["app-email-create"]],decls:3,vars:1,consts:[[1,"ui","button","inverted","primary","fluid",3,"click"],[3,"dismiss",4,"ngIf"],[3,"dismiss"],["modalTitle",""],[3,"email","emailSubmit"]],template:function(t,e){1&t&&(r.Ob(0,"button",0),r.Wb("click",(function(){return e.showModal=!0})),r.lc(1," Compose\n"),r.Nb(),r.kc(2,f,4,1,"app-modal",1)),2&t&&(r.zb(2),r.dc("ngIf",e.showModal))},directives:[n.j,u,p],styles:[".ui.button.primary[_ngcontent-%COMP%]{margin-bottom:1rem}"]}),t})();function v(t,e){if(1&t&&(r.Ob(0,"div",2),r.Ob(1,"a",3),r.Ob(2,"div",4),r.Ob(3,"div",5),r.lc(4),r.Nb(),r.Ob(5,"p",6),r.lc(6),r.Nb(),r.Nb(),r.Nb(),r.Nb()),2&t){const t=e.$implicit;r.zb(1),r.dc("routerLink",t.id),r.zb(3),r.nc(" ",t.subject," "),r.zb(2),r.nc(" ",t.from," ")}}let O=(()=>{class t{constructor(t){this.emailService=t,this.emails=[]}ngOnInit(){this.emailService.getEmails().subscribe(t=>{this.emails=t})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(a))},t.\u0275cmp=r.Db({type:t,selectors:[["app-email-index"]],decls:2,vars:1,consts:[[1,"ui","celled","list"],["class","item",4,"ngFor","ngForOf"],[1,"item"],["routerLinkActive","active",3,"routerLink"],[1,"content"],[1,"header","trim"],[1,"trim"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.kc(1,v,7,3,"div",1),r.Nb()),2&t&&(r.zb(1),r.dc("ngForOf",e.emails))},directives:[n.i,s.d,s.c],styles:['.item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000}a.active[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center}a.active[_ngcontent-%COMP%]:before{content:">";font-size:20px;margin-right:10px}.content[_ngcontent-%COMP%]{width:90%}.trim[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:100%}']}),t})(),g=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Db({type:t,selectors:[["app-home"]],decls:6,vars:0,consts:[[1,"ui","grid","stackable"],[1,"five","wide","column"],[1,"eleven","wide","column"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.Ob(1,"div",1),r.Kb(2,"app-email-create"),r.Kb(3,"app-email-index"),r.Nb(),r.Ob(4,"div",2),r.Kb(5,"router-outlet"),r.Nb(),r.Nb())},directives:[h,O,s.f],styles:[""]}),t})(),w=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Db({type:t,selectors:[["app-placeholder"]],decls:4,vars:0,consts:[[1,"ui","placeholder","segment"],[1,"ui","icon","header"],[1,"envelope","outline","icon"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.Ob(1,"div",1),r.Kb(2,"i",2),r.lc(3," Select an Email to get started "),r.Nb(),r.Nb())},styles:[""]}),t})();function y(t,e){if(1&t){const t=r.Pb();r.Ob(0,"app-modal",2),r.Wb("dismiss",(function(){return r.gc(t),r.Yb().showModal=!1})),r.Ob(1,"div",3),r.lc(2,"Reply"),r.Nb(),r.Ob(3,"app-email-form",4),r.Wb("emailSubmit",(function(e){return r.gc(t),r.Yb().onSubmit(e)})),r.Nb(),r.Nb()}if(2&t){const t=r.Yb();r.zb(3),r.dc("email",t.email)}}let N=(()=>{class t{constructor(t){this.emailService=t,this.showModal=!1}ngOnInit(){}ngOnChanges(){const t=this.email.text;this.email=Object.assign(Object.assign({},this.email),{from:this.email.to,to:this.email.from,subject:`RE: ${this.email.subject}`,text:`\n\n\n--------- ${this.email.from} wrote:\n ${t}`})}onSubmit(t){this.emailService.sendEmail(t).subscribe(()=>{this.showModal=!1})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(a))},t.\u0275cmp=r.Db({type:t,selectors:[["app-email-reply"]],inputs:{email:"email"},features:[r.xb],decls:3,vars:1,consts:[[1,"ui","button","primary",3,"click"],[3,"dismiss",4,"ngIf"],[3,"dismiss"],["modalTitle",""],[3,"email","emailSubmit"]],template:function(t,e){1&t&&(r.Ob(0,"button",0),r.Wb("click",(function(){return e.showModal=!0})),r.lc(1," Reply\n"),r.Nb(),r.kc(2,y,4,1,"app-modal",1)),2&t&&(r.zb(2),r.dc("ngIf",e.showModal))},directives:[n.j,u,p],styles:[""]}),t})(),S=(()=>{class t{constructor(t,e){this.route=t,this.emailService=e,console.log(this.route.data)}ngOnInit(){this.email=this.route.snapshot.data.email,this.route.data.subscribe(({email:t})=>{this.email=t})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(s.a),r.Jb(a))},t.\u0275cmp=r.Db({type:t,selectors:[["app-email-show"]],decls:16,vars:5,consts:[[1,"header"],[3,"email"],[1,"ui","divider"],[3,"innerHTML"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.Ob(1,"div"),r.Ob(2,"h3"),r.lc(3),r.Nb(),r.Ob(4,"div"),r.lc(5," From: "),r.Ob(6,"i"),r.lc(7),r.Nb(),r.Nb(),r.Ob(8,"div"),r.lc(9," To: "),r.Ob(10,"i"),r.lc(11),r.Nb(),r.Nb(),r.Nb(),r.Ob(12,"div"),r.Kb(13,"app-email-reply",1),r.Nb(),r.Nb(),r.Kb(14,"div",2),r.Kb(15,"div",3)),2&t&&(r.zb(3),r.mc(e.email.subject),r.zb(4),r.mc(e.email.from),r.zb(4),r.mc(e.email.to),r.zb(2),r.dc("email",e.email),r.zb(2),r.dc("innerHTML",e.email.html,r.hc))},directives:[N],styles:[".header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap}"]}),t})();var k=i("JIr8"),M=i("EY2u");let C=(()=>{class t{constructor(t,e){this.emailService=t,this.router=e}resolve(t){const{id:e}=t.params;return this.emailService.getEmail(e).pipe(Object(k.a)(()=>(this.router.navigateByUrl("/inbox/not-found"),M.a)))}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a),r.Sb(s.b))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const x=[{path:"",component:g,children:[{path:"not-found",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Db({type:t,selectors:[["app-not-found"]],decls:4,vars:0,consts:[[1,"ui","placeholder","segment"],[1,"ui","icon","header"],[1,"search","icon"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.Ob(1,"div",1),r.Kb(2,"i",2),r.lc(3," Email not Found "),r.Nb(),r.Nb())},styles:[""]}),t})()},{path:"",component:w},{path:":id",component:S,resolve:{email:C}}]}];let j=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},imports:[[s.e.forChild(x)],s.e]}),t})();var z=i("PCNd");let F=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},imports:[[n.c,j,o.h,c.c,z.a]]}),t})()}}]);