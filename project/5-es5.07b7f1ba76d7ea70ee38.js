function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"5gel":function(e,t,i){"use strict";i.r(t),i.d(t,"InboxModule",(function(){return U}));var n,c,o,a=i("ofXK"),l=i("3Pt+"),s=i("tk/3"),r=i("tyNb"),u=i("fXoL"),b=i("qXBG"),m=((n=function(){function e(t){_classCallCheck(this,e),this.http=t,this.rootUrl="https://api.angular-email.com"}return _createClass(e,[{key:"getEmails",value:function(){return this.http.get("".concat(this.rootUrl,"/emails"))}},{key:"getEmail",value:function(e){return this.http.get("".concat(this.rootUrl,"/emails/").concat(e))}},{key:"sendEmail",value:function(e){return this.http.post("".concat(this.rootUrl,"/emails"),e)}}]),e}()).\u0275fac=function(e){return new(e||n)(u.Sb(s.b))},n.\u0275prov=u.Fb({token:n,factory:n.\u0275fac,providedIn:"root"}),n),f=[[["","modalTitle",""]],"*",[["","modalFooter",""]]],d=["[modalTitle]","*","[modalFooter]"],p=((c=function(){function e(t){_classCallCheck(this,e),this.el=t,this.dismiss=new u.n}return _createClass(e,[{key:"ngOnInit",value:function(){document.body.appendChild(this.el.nativeElement)}},{key:"ngOnDestroy",value:function(){this.el.nativeElement.remove()}},{key:"onDismissClick",value:function(){this.dismiss.emit()}}]),e}()).\u0275fac=function(e){return new(e||c)(u.Jb(u.l))},c.\u0275cmp=u.Db({type:c,selectors:[["app-modal"]],outputs:{dismiss:"dismiss"},ngContentSelectors:d,decls:12,vars:0,consts:[[1,"ui","dimmer","visible","active",3,"click"],[1,"ui","modal","visible","active",3,"click"],[1,"close","icon",3,"click"],[1,"header"],[1,"content"],[1,"actions","actions-default"],[1,"ui","button","primary",3,"click"],[1,"actions"]],template:function(e,t){1&e&&(u.cc(f),u.Ob(0,"div",0),u.Wb("click",(function(){return t.onDismissClick()})),u.Ob(1,"div",1),u.Wb("click",(function(e){return e.stopPropagation()})),u.Ob(2,"i",2),u.Wb("click",(function(){return t.onDismissClick()})),u.Nb(),u.Ob(3,"div",3),u.bc(4),u.Nb(),u.Ob(5,"div",4),u.bc(6,1),u.Nb(),u.Ob(7,"div",5),u.Ob(8,"button",6),u.Wb("click",(function(){return t.onDismissClick()})),u.lc(9,"Ok"),u.Nb(),u.Nb(),u.Ob(10,"div",7),u.bc(11,2),u.Nb(),u.Nb(),u.Nb())},styles:[".actions-default[_ngcontent-%COMP%], .actions[_ngcontent-%COMP%]:empty{display:none}.actions[_ngcontent-%COMP%]:empty + .actions-default[_ngcontent-%COMP%]{display:block}"]}),c),h=i("9odQ"),v=((o=function(){function e(){_classCallCheck(this,e),this.emailSubmit=new u.n}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this.email,t=e.subject,i=e.from,n=e.to,c=e.text;this.emailForm=new l.d({to:new l.b(n,[l.i.required,l.i.email]),from:new l.b({value:i,disabled:!0}),subject:new l.b(t,[l.i.required]),text:new l.b(c,[l.i.required])})}},{key:"onSubmit",value:function(){this.emailForm.invalid||this.emailSubmit.emit(this.emailForm.value)}}]),e}()).\u0275fac=function(e){return new(e||o)},o.\u0275cmp=u.Db({type:o,selectors:[["app-email-form"]],inputs:{email:"email"},outputs:{emailSubmit:"emailSubmit"},decls:7,vars:5,consts:[[1,"ui","form",3,"formGroup","ngSubmit"],["inputType","text","label","From",3,"control"],["inputType","email","label","To",3,"control"],["inputType","text","label","Subject",3,"control"],["controlType","textarea","label","Content",3,"control"],[1,"ui","button","primary"]],template:function(e,t){1&e&&(u.Ob(0,"form",0),u.Wb("ngSubmit",(function(){return t.onSubmit()})),u.Kb(1,"app-input",1),u.Kb(2,"app-input",2),u.Kb(3,"app-input",3),u.Kb(4,"app-input",4),u.Ob(5,"button",5),u.lc(6,"Send"),u.Nb(),u.Nb()),2&e&&(u.dc("formGroup",t.emailForm),u.zb(1),u.dc("control",t.emailForm.get("from")),u.zb(1),u.dc("control",t.emailForm.get("to")),u.zb(1),u.dc("control",t.emailForm.get("subject")),u.zb(1),u.dc("control",t.emailForm.get("text")))},directives:[l.j,l.g,l.e,h.a],styles:[""]}),o);function y(e,t){if(1&e){var i=u.Pb();u.Ob(0,"app-modal",2),u.Wb("dismiss",(function(){return u.gc(i),u.Yb().showModal=!1})),u.Ob(1,"div",3),u.lc(2,"Compose"),u.Nb(),u.Ob(3,"app-email-form",4),u.Wb("emailSubmit",(function(e){return u.gc(i),u.Yb().onSubmit(e)})),u.Nb(),u.Nb()}if(2&e){var n=u.Yb();u.zb(3),u.dc("email",n.email)}}var O,g=((O=function(){function e(t,i){_classCallCheck(this,e),this.authService=t,this.emailService=i,this.showModal=!1,this.email={id:"",subject:"",from:"".concat(t.username,"@angular-email.com"),to:"",text:"",html:""}}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"onSubmit",value:function(e){var t=this;this.emailService.sendEmail(e).subscribe((function(){t.showModal=!1}))}}]),e}()).\u0275fac=function(e){return new(e||O)(u.Jb(b.a),u.Jb(m))},O.\u0275cmp=u.Db({type:O,selectors:[["app-email-create"]],decls:3,vars:1,consts:[[1,"ui","button","inverted","primary","fluid",3,"click"],[3,"dismiss",4,"ngIf"],[3,"dismiss"],["modalTitle",""],[3,"email","emailSubmit"]],template:function(e,t){1&e&&(u.Ob(0,"button",0),u.Wb("click",(function(){return t.showModal=!0})),u.lc(1," Compose\n"),u.Nb(),u.kc(2,y,4,1,"app-modal",1)),2&e&&(u.zb(2),u.dc("ngIf",t.showModal))},directives:[a.j,p,v],styles:[".ui.button.primary[_ngcontent-%COMP%]{margin-bottom:1rem}"]}),O);function C(e,t){if(1&e&&(u.Ob(0,"div",2),u.Ob(1,"a",3),u.Ob(2,"div",4),u.Ob(3,"div",5),u.lc(4),u.Nb(),u.Ob(5,"p",6),u.lc(6),u.Nb(),u.Nb(),u.Nb(),u.Nb()),2&e){var i=t.$implicit;u.zb(1),u.dc("routerLink",i.id),u.zb(3),u.nc(" ",i.subject," "),u.zb(2),u.nc(" ",i.from," ")}}var k,w,N,_=((N=function(){function e(t){_classCallCheck(this,e),this.emailService=t,this.emails=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.emailService.getEmails().subscribe((function(t){e.emails=t}))}}]),e}()).\u0275fac=function(e){return new(e||N)(u.Jb(m))},N.\u0275cmp=u.Db({type:N,selectors:[["app-email-index"]],decls:2,vars:1,consts:[[1,"ui","celled","list"],["class","item",4,"ngFor","ngForOf"],[1,"item"],["routerLinkActive","active",3,"routerLink"],[1,"content"],[1,"header","trim"],[1,"trim"]],template:function(e,t){1&e&&(u.Ob(0,"div",0),u.kc(1,C,7,3,"div",1),u.Nb()),2&e&&(u.zb(1),u.dc("ngForOf",t.emails))},directives:[a.i,r.d,r.c],styles:['.item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000}a.active[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center}a.active[_ngcontent-%COMP%]:before{content:">";font-size:20px;margin-right:10px}.content[_ngcontent-%COMP%]{width:90%}.trim[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:100%}']}),N),S=((w=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||w)},w.\u0275cmp=u.Db({type:w,selectors:[["app-home"]],decls:6,vars:0,consts:[[1,"ui","grid","stackable"],[1,"five","wide","column"],[1,"eleven","wide","column"]],template:function(e,t){1&e&&(u.Ob(0,"div",0),u.Ob(1,"div",1),u.Kb(2,"app-email-create"),u.Kb(3,"app-email-index"),u.Nb(),u.Ob(4,"div",2),u.Kb(5,"router-outlet"),u.Nb(),u.Nb())},directives:[g,_,r.f],styles:[""]}),w),M=((k=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||k)},k.\u0275cmp=u.Db({type:k,selectors:[["app-placeholder"]],decls:4,vars:0,consts:[[1,"ui","placeholder","segment"],[1,"ui","icon","header"],[1,"envelope","outline","icon"]],template:function(e,t){1&e&&(u.Ob(0,"div",0),u.Ob(1,"div",1),u.Kb(2,"i",2),u.lc(3," Select an Email to get started "),u.Nb(),u.Nb())},styles:[""]}),k);function x(e,t){if(1&e){var i=u.Pb();u.Ob(0,"app-modal",2),u.Wb("dismiss",(function(){return u.gc(i),u.Yb().showModal=!1})),u.Ob(1,"div",3),u.lc(2,"Reply"),u.Nb(),u.Ob(3,"app-email-form",4),u.Wb("emailSubmit",(function(e){return u.gc(i),u.Yb().onSubmit(e)})),u.Nb(),u.Nb()}if(2&e){var n=u.Yb();u.zb(3),u.dc("email",n.email)}}var P,j,z,F,I,D,E=((j=function(){function e(t){_classCallCheck(this,e),this.emailService=t,this.showModal=!1}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(){var e=this.email.text;this.email=Object.assign(Object.assign({},this.email),{from:this.email.to,to:this.email.from,subject:"RE: ".concat(this.email.subject),text:"\n\n\n--------- ".concat(this.email.from," wrote:\n ").concat(e)})}},{key:"onSubmit",value:function(e){var t=this;this.emailService.sendEmail(e).subscribe((function(){t.showModal=!1}))}}]),e}()).\u0275fac=function(e){return new(e||j)(u.Jb(m))},j.\u0275cmp=u.Db({type:j,selectors:[["app-email-reply"]],inputs:{email:"email"},features:[u.xb],decls:3,vars:1,consts:[[1,"ui","button","primary",3,"click"],[3,"dismiss",4,"ngIf"],[3,"dismiss"],["modalTitle",""],[3,"email","emailSubmit"]],template:function(e,t){1&e&&(u.Ob(0,"button",0),u.Wb("click",(function(){return t.showModal=!0})),u.lc(1," Reply\n"),u.Nb(),u.kc(2,x,4,1,"app-modal",1)),2&e&&(u.zb(2),u.dc("ngIf",t.showModal))},directives:[a.j,p,v],styles:[""]}),j),K=((P=function(){function e(t,i){_classCallCheck(this,e),this.route=t,this.emailService=i,console.log(this.route.data)}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.email=this.route.snapshot.data.email,this.route.data.subscribe((function(t){var i=t.email;e.email=i}))}}]),e}()).\u0275fac=function(e){return new(e||P)(u.Jb(r.a),u.Jb(m))},P.\u0275cmp=u.Db({type:P,selectors:[["app-email-show"]],decls:16,vars:5,consts:[[1,"header"],[3,"email"],[1,"ui","divider"],[3,"innerHTML"]],template:function(e,t){1&e&&(u.Ob(0,"div",0),u.Ob(1,"div"),u.Ob(2,"h3"),u.lc(3),u.Nb(),u.Ob(4,"div"),u.lc(5," From: "),u.Ob(6,"i"),u.lc(7),u.Nb(),u.Nb(),u.Ob(8,"div"),u.lc(9," To: "),u.Ob(10,"i"),u.lc(11),u.Nb(),u.Nb(),u.Nb(),u.Ob(12,"div"),u.Kb(13,"app-email-reply",1),u.Nb(),u.Nb(),u.Kb(14,"div",2),u.Kb(15,"div",3)),2&e&&(u.zb(3),u.mc(t.email.subject),u.zb(4),u.mc(t.email.from),u.zb(4),u.mc(t.email.to),u.zb(2),u.dc("email",t.email),u.zb(2),u.dc("innerHTML",t.email.html,u.hc))},directives:[E],styles:[".header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap}"]}),P),T=i("JIr8"),W=i("EY2u"),J=((z=function(){function e(t,i){_classCallCheck(this,e),this.emailService=t,this.router=i}return _createClass(e,[{key:"resolve",value:function(e){var t=this,i=e.params.id;return this.emailService.getEmail(i).pipe(Object(T.a)((function(){return t.router.navigateByUrl("/inbox/not-found"),W.a})))}}]),e}()).\u0275fac=function(e){return new(e||z)(u.Sb(m),u.Sb(r.b))},z.\u0275prov=u.Fb({token:z,factory:z.\u0275fac,providedIn:"root"}),z),Y=[{path:"",component:S,children:[{path:"not-found",component:(F=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}(),F.\u0275fac=function(e){return new(e||F)},F.\u0275cmp=u.Db({type:F,selectors:[["app-not-found"]],decls:4,vars:0,consts:[[1,"ui","placeholder","segment"],[1,"ui","icon","header"],[1,"search","icon"]],template:function(e,t){1&e&&(u.Ob(0,"div",0),u.Ob(1,"div",1),u.Kb(2,"i",2),u.lc(3," Email not Found "),u.Nb(),u.Nb())},styles:[""]}),F)},{path:"",component:M},{path:":id",component:K,resolve:{email:J}}]}],L=((I=function e(){_classCallCheck(this,e)}).\u0275mod=u.Hb({type:I}),I.\u0275inj=u.Gb({factory:function(e){return new(e||I)},imports:[[r.e.forChild(Y)],r.e]}),I),G=i("PCNd"),U=((D=function e(){_classCallCheck(this,e)}).\u0275mod=u.Hb({type:D}),D.\u0275inj=u.Gb({factory:function(e){return new(e||D)},imports:[[a.c,L,l.h,s.c,G.a]]}),D)}}]);